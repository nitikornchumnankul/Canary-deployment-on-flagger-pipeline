(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2380:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(192),l=n.n(a),c=n(20),i=n.n(c),s=n(9),u=n(159),p=n(560);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,b(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(u.a,m({page:"discovery"},this.props.params),o.a.createElement(s.Grid,null,o.a.createElement(s.GridRow,{alignContent:"center"},this.props.children)))}}])&&y(n.prototype,r),a&&y(n,a),t}(),d=Object(p.a)(g,"network","page"),E=n(22),w=n(7),O=n(2),P=n(283),j=n(182);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){var e,n,r,o,a,l,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=this,o=(e=_(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==k(o)&&"function"!=typeof o?C(r):o,a=C(n),c=function(){n.props.onRemove&&n.props.onRemove(n.props.peername,n.props.nickname)},(l="handleRemove")in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.peername,n=e.nickname,r=e.addresses,a=e.lastseen;return o.a.createElement("tr",null,o.a.createElement("td",null,t),o.a.createElement("td",null,n),o.a.createElement("td",null,r.join(", ")),o.a.createElement("td",null,o.a.createElement(s.TimestampTag,{relative:!0,timestamp:a})),o.a.createElement("td",null,o.a.createElement("a",{onClick:this.handleRemove},"Remove")))}}])&&R(n.prototype,r),a&&R(n,a),t}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(){return Object(w.trackEvent)("network.peers.remove",{},"Removed a peer from the Network view")},J=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=this,o=(e=x(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==N(o)&&"function"!=typeof o?T(r):o,I(T(n),"handleRemovePeer",function(e,t){n.props.confirmPeerRemoval(e,t)}),I(T(n),"handleRemovalDialogResponse",function(e,t){var r=n.props,o=r.params,a=r.focusedPeer;"Remove"===t&&(B(),n.props.removePeer(o.instanceId,a.peername)),n.props.closeRemovalDialog()}),I(T(n),"handleMessageClose",function(){n.props.closeMessageDialog(),n.props.getPeers(n.props.params.instanceId)}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.getPeers(this.props.params.instanceId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.peers,r=t.focusedPeer,a=t.peerRemovalDialogActive,l=t.deletePeerMessage,c=t.messageDialogActive,i=n.map(function(t){return o.a.createElement(D,M({},t,{key:t.peername,onRemove:e.handleRemovePeer}))}),u=o.a.createElement("div",{className:"weave-data-table"},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Peer name"),o.a.createElement("th",null,"Nickname"),o.a.createElement("th",null,"Addresses"),o.a.createElement("th",null,"Last seen"),o.a.createElement("th",null,"Remove"))),o.a.createElement("tbody",null,i)));return o.a.createElement(P.a,null,o.a.createElement("div",{className:"peers-page"},o.a.createElement("h2",null,"Weave Net peers"),o.a.createElement(j.a,{style:{lineHeight:"28px"},hidden:!this.props.errorMessage,message:this.props.errorMessage}),!this.props.errorMessage&&u,!this.props.loading&&0===this.props.peers.length&&o.a.createElement("h3",null,"No peers found"),this.props.loading&&o.a.createElement("div",{className:"loading-icon"},o.a.createElement(s.CircularProgress,null))),o.a.createElement(s.Dialog,{overlay:!0,active:a,onClose:this.handleRemovalDialogResponse,actions:[o.a.createElement(s.Button,{onClick:this.handleRemovalDialogResponse,danger:!0,text:"Remove"}),o.a.createElement(s.Button,{onClick:this.handleRemovalDialogResponse,text:"Cancel"})]},"Are you sure you want to removeÂ ",o.a.createElement("strong",null,r&&"".concat(r.peername," (").concat(r.nickname,")"),"?")),o.a.createElement(s.Dialog,{overlay:!0,active:c,onClose:this.handleMessageClose},l))}}])&&A(n.prototype,r),a&&A(n,a),t}(),W=Object(E.connect)(function(e){var t=e.discovery;return{deletePeerMessage:t.deletePeerMessage,errorMessage:t.errorMessage,focusedPeer:t.focusedPeer,loading:t.fetchingPeers,messageDialogActive:t.messageDialogActive,peerRemovalDialogActive:t.peerRemovalDialogActive,peers:t.peers}},{closeMessageDialog:O.h,closeRemovalDialog:O.i,confirmPeerRemoval:O.j,getPeers:O.M,removePeer:O.zb})(J),z=n(19),H=n.n(z),L=n(11),U=n(423),V=n.n(U),q=function(){return Object(w.trackEvent)("network.intro.configure.click")},F=function(e){var t=e.params.instanceId;return o.a.createElement("div",{className:"service-intro-page"},o.a.createElement(s.Grid,null,o.a.createElement(s.GridRow,{alignContent:"center"},o.a.createElement(s.GridColumn,{span:6},o.a.createElement("img",{src:V.a,alt:"Network screenshot"})),o.a.createElement(s.GridColumn,{span:4},o.a.createElement("div",{className:"service-intro-page-text"},o.a.createElement("h2",null,"Network"),o.a.createElement("p",null,"View the status of the hosts in your cluster that are running Weave Net."),o.a.createElement(H.a,{to:Object(L.U)(t),onClick:q},o.a.createElement(s.Button,{primary:!0,onClick:function(){},text:"Install"})))))))};t.default=[o.a.createElement(i.a,{component:d},o.a.createElement(l.a,{gaName:"NetworkPage",mpEvent:"network.peers.view",component:W}),o.a.createElement(i.a,{path:"intro",gaName:"NetworkIntro",mpEvent:"network.intro.view",component:F}))]}}]);